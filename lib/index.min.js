import{existsSync,statSync}from"node:fs";import{dirname,extname,resolve as resolvePath}from"node:path";const extensions=[".js",".mjs",".json",".jsx",".d.ts",".ts",".tsx"];export const resolve=(e,s,t)=>{const n=extname(e);if((!n||!extensions.includes(n))&&s.parentURL?.startsWith("file://")){const n=s.parentURL.substring(7),o=dirname(n);let r=resolvePath(o,e);if(existsSync(r)){if(statSync(r).isDirectory())for(const e of extensions)if(r=resolvePath(r,`index${e}`),existsSync(r))return t(`file://${r}`,s)}else for(const n of extensions)if(r=resolvePath(o,e+n),existsSync(r))return t(`file://${r}`,s)}return t(e,s)};